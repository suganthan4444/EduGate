{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Link,useNavigate}from'react-router-dom';import api from'./api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LearnerSpace(){const learnerId=sessionStorage.getItem('learnerId');const navigate=useNavigate();const confirmLogout=()=>{const userConfirmed=window.confirm('Are you sure you want to log out?');if(userConfirmed){sessionStorage.clear();navigate('/home');}};const linkStyle={textDecoration:'none',color:'inherit'};const[coursesByDomain,setCoursesByDomain]=useState({});const[selectedDomain,setSelectedDomain]=useState('');const[searchKeyword,setSearchKeyword]=useState('');useEffect(()=>{fetchReleasedCourses();},[]);async function fetchReleasedCourses(){try{const response=await api.get('/get-released-courses');const{data}=response;if(typeof data==='object'){setCoursesByDomain(data);}else{console.error('Invalid response format:',data);}}catch(error){console.error('Error fetching released courses:',error);}}const handleDropdownChange=event=>{setSelectedDomain(event.target.value);};const handleSearchChange=event=>{setSearchKeyword(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"learner-space\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"learner-navbar\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"learner-sidebar\",children:[/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/learner-profile/\".concat(learnerId),style:linkStyle,children:\"Your Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:\"/learner-courses/\".concat(learnerId),style:linkStyle,children:\"Your Courses\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmLogout,children:\"Logout\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"courses\",children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Explore and pick courses of your Interests\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedDomain,onChange:handleDropdownChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Domain\"}),/*#__PURE__*/_jsx(\"option\",{value:\"IT & Software\",children:\"IT & Software\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Electronics\",children:\"Electronics\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Mechanics\",children:\"Mechanics\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Aeronautics\",children:\"Aeronautics\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Music\",children:\"Music\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Drawing & Design\",children:\"Drawing & Design\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Management\",children:\"Management\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search courses...\",value:searchKeyword,onChange:handleSearchChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"course-categories\",children:Object.entries(coursesByDomain).map(_ref=>{let[domain,courses]=_ref;return(!selectedDomain||domain===selectedDomain)&&/*#__PURE__*/_jsxs(\"div\",{children:[domain&&/*#__PURE__*/_jsx(\"h2\",{className:\"domain\",children:domain}),/*#__PURE__*/_jsxs(\"div\",{className:\"course-cards\",children:[courses.filter(course=>course.course_name&&course.course_name.toLowerCase().includes(searchKeyword.toLowerCase())).map(course=>/*#__PURE__*/_jsxs(\"div\",{className:\"user-course-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:course.course_thumbnail_url,alt:course.course_name,onClick:()=>navigate(\"/learner-course-preview/\".concat(course.course_id))}),/*#__PURE__*/_jsxs(\"div\",{className:\"course-card-details\",children:[/*#__PURE__*/_jsx(\"h3\",{onClick:()=>navigate(\"/learner-course-preview/\".concat(course.course_id)),children:course.course_name}),/*#__PURE__*/_jsxs(\"p\",{onClick:()=>navigate(\"/educator-preview/\".concat(course.educator_id)),className:\"ed-name\",children:[\"by \",course.educator_name]}),/*#__PURE__*/_jsxs(\"p\",{className:\"price\",children:[\"Price: \",course.course_price]})]})]},course.course_id)),courses.filter(course=>course.course_name&&course.course_name.toLowerCase().includes(searchKeyword.toLowerCase())).length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No courses available with this name.\"})]})]},domain);})})]})]});}export default LearnerSpace;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","api","jsx","_jsx","jsxs","_jsxs","LearnerSpace","learnerId","sessionStorage","getItem","navigate","confirmLogout","userConfirmed","window","confirm","clear","linkStyle","textDecoration","color","coursesByDomain","setCoursesByDomain","selectedDomain","setSelectedDomain","searchKeyword","setSearchKeyword","fetchReleasedCourses","response","get","data","console","error","handleDropdownChange","event","target","value","handleSearchChange","className","children","to","concat","style","onClick","onChange","type","placeholder","Object","entries","map","_ref","domain","courses","filter","course","course_name","toLowerCase","includes","src","course_thumbnail_url","alt","course_id","educator_id","educator_name","course_price","length"],"sources":["D:/Sugu/Study Zone/Coding/Code/Projects/Coapps/Final Project/Project EduGate/react-project/src/LearnerSpace.js"],"sourcesContent":["import React,{useEffect, useState} from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport api from './api';\r\n\r\nfunction LearnerSpace() {\r\n    const learnerId = sessionStorage.getItem('learnerId');\r\n    const navigate = useNavigate();\r\n\r\n    const confirmLogout = () => {\r\n        const userConfirmed = window.confirm('Are you sure you want to log out?');\r\n        if (userConfirmed) {\r\n            sessionStorage.clear();\r\n            navigate('/home');\r\n        }\r\n    };\r\n\r\n    const linkStyle = {\r\n        textDecoration: 'none',\r\n        color: 'inherit',\r\n    };\r\n\r\n  const [coursesByDomain, setCoursesByDomain] = useState({});\r\n  const [selectedDomain, setSelectedDomain] = useState('');\r\n  const [searchKeyword, setSearchKeyword] = useState('');\r\n\r\n\r\n  useEffect(() => {\r\n    fetchReleasedCourses();\r\n  }, []);\r\n\r\n  async function fetchReleasedCourses() {\r\n    try {\r\n      const response = await api.get('/get-released-courses');\r\n      const { data } = response;\r\n  \r\n      if (typeof data === 'object') {\r\n        setCoursesByDomain(data);\r\n      } else {\r\n        console.error('Invalid response format:', data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching released courses:', error);\r\n    }\r\n  }\r\n  \r\n\r\n  const handleDropdownChange = (event) => {\r\n    setSelectedDomain(event.target.value);\r\n  };\r\n\r\n\r\n  const handleSearchChange = (event) => {\r\n    setSearchKeyword(event.target.value);\r\n  };\r\n\r\n    return (\r\n        <div className=\"learner-space\">\r\n            <div className='learner-navbar'>\r\n            <nav className=\"learner-sidebar\">\r\n                <ul>\r\n                    <li>\r\n                        <Link to={`/learner-profile/${learnerId}`} style={linkStyle}>Your Profile</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to={`/learner-courses/${learnerId}`} style={linkStyle}>Your Courses</Link>\r\n                    </li>\r\n                </ul>\r\n                <button onClick={confirmLogout}>Logout</button>\r\n            </nav>\r\n            </div>\r\n            <div className=\"courses\">\r\n      <header>\r\n        <h1>Explore and pick courses of your Interests</h1>\r\n        <select value={selectedDomain} onChange={handleDropdownChange}>\r\n          <option value=\"\">Select Domain</option>\r\n          <option value=\"IT & Software\">IT & Software</option>\r\n          <option value=\"Electronics\">Electronics</option>\r\n          <option value=\"Mechanics\">Mechanics</option>\r\n          <option value=\"Aeronautics\">Aeronautics</option>\r\n          <option value=\"Music\">Music</option>\r\n          <option value=\"Drawing & Design\">Drawing & Design</option>\r\n          <option value=\"Management\">Management</option>\r\n        </select>\r\n        <input type=\"text\" placeholder=\"Search courses...\" value={searchKeyword} onChange={handleSearchChange} />\r\n      </header>\r\n      <div className=\"course-categories\">\r\n  {Object.entries(coursesByDomain).map(([domain, courses]) => (\r\n    (!selectedDomain || domain === selectedDomain) && (\r\n      <div key={domain}>\r\n        {domain && <h2 className='domain'>{domain}</h2>}\r\n        <div className=\"course-cards\">\r\n          {courses\r\n            .filter(\r\n              course =>\r\n                course.course_name &&\r\n                course.course_name.toLowerCase().includes(searchKeyword.toLowerCase())\r\n            )\r\n            .map(course => (\r\n              <div className=\"user-course-card\" key={course.course_id} >\r\n                <img src={course.course_thumbnail_url} alt={course.course_name} onClick={() => navigate(`/learner-course-preview/${course.course_id}`)}/>\r\n                <div className=\"course-card-details\">\r\n                  <h3 onClick={() => navigate(`/learner-course-preview/${course.course_id}`)}>{course.course_name}</h3>\r\n                  <p onClick={() => navigate(`/educator-preview/${course.educator_id}`)} className='ed-name'>by {course.educator_name}</p>\r\n                  <p className='price'>Price: {course.course_price}</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          {courses\r\n            .filter(\r\n              course =>\r\n                course.course_name &&\r\n                course.course_name.toLowerCase().includes(searchKeyword.toLowerCase())\r\n            ).length === 0 && (\r\n            <p>No courses available with this name.</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n  ))}\r\n</div>\r\n    </div>\r\n        </div>\r\n           \r\n    );\r\n}\r\n\r\nexport default LearnerSpace;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}