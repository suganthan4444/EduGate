{"ast":null,"code":"// LearnerProfile.js\nimport React,{useState,useEffect}from'react';import api from'./api';import{useNavigate,Link}from'react-router-dom';import'./LearnerCourses.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function LearnerCourses(){const learnerId=sessionStorage.getItem('learnerId');const[learnerCourses,setLearnerCourses]=useState([]);console.log({learnerId});const navigate=useNavigate();const confirmLogout=()=>{const userConfirmed=window.confirm('Are you sure you want to log out?');if(userConfirmed){sessionStorage.clear();navigate('/home');}};const linkStyle={textDecoration:'none',color:'inherit'};useEffect(()=>{fetchLearnerCourses();});const fetchLearnerCourses=async()=>{try{const response=await api.get(`/api/learner-courses/${learnerId}`);const data=response.data;if(!data.success){throw new Error('Failed to fetch learner courses');}console.log({data});setLearnerCourses(data.data.filter(course=>course.course_purchase_status));}catch(error){console.error('Error fetching learner courses:',error.message);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"learner-navbar\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"learner-sidebar\",children:[/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:`/learner-profile/${learnerId}`,style:linkStyle,children:\"Your Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:`/learner-courses/${learnerId}`,style:linkStyle,children:\"Your Courses\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmLogout,children:\"Logout\"})]})}),/*#__PURE__*/_jsx(\"h1\",{children:\"Learner Profile\"}),/*#__PURE__*/_jsx(\"div\",{className:\"learner-cards\",children:learnerCourses.map(course=>/*#__PURE__*/_jsxs(\"div\",{className:\"learner-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:course.course_thumbnail,alt:course.course_name,className:\"thumb\",onClick:()=>navigate(`/course-inlook/${course.course_id}`)}),/*#__PURE__*/_jsx(\"h3\",{className:\"course-name\",onClick:()=>navigate(`/course-inlook/${course.course_id}`),children:course.course_name}),/*#__PURE__*/_jsxs(\"p\",{onClick:()=>navigate(`/educator-preview/${course.educator_id}`),className:\"ed-name\",children:[\"by \",course.educator_name]})]},course.course_id))})]});}export default LearnerCourses;","map":{"version":3,"names":["React","useState","useEffect","api","useNavigate","Link","jsx","_jsx","jsxs","_jsxs","LearnerCourses","learnerId","sessionStorage","getItem","learnerCourses","setLearnerCourses","console","log","navigate","confirmLogout","userConfirmed","window","confirm","clear","linkStyle","textDecoration","color","fetchLearnerCourses","response","get","data","success","Error","filter","course","course_purchase_status","error","message","children","className","to","style","onClick","map","src","course_thumbnail","alt","course_name","course_id","educator_id","educator_name"],"sources":["D:/Sugu/Study Zone/Coding/Code/Projects/Coapps/Final Project/Project EduGate/react-project/src/LearnerCourses.js"],"sourcesContent":["// LearnerProfile.js\r\n\r\nimport React, { useState, useEffect } from 'react';\r\nimport api from './api';\r\nimport { useNavigate, Link } from 'react-router-dom'; \r\nimport './LearnerCourses.css';\r\n\r\nfunction LearnerCourses() {\r\n    const learnerId  = sessionStorage.getItem('learnerId');\r\n    const [learnerCourses, setLearnerCourses] = useState([]);\r\n    console.log({learnerId})\r\n    const navigate = useNavigate();\r\n\r\n    const confirmLogout = () => {\r\n        const userConfirmed = window.confirm('Are you sure you want to log out?');\r\n        if (userConfirmed) {\r\n            sessionStorage.clear();\r\n            navigate('/home');\r\n        }\r\n    };\r\n\r\n    const linkStyle = {\r\n        textDecoration: 'none',\r\n        color: 'inherit',\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchLearnerCourses();\r\n    });\r\n\r\n    const fetchLearnerCourses = async () => {\r\n      try {\r\n          const response = await api.get(`/api/learner-courses/${learnerId}`);\r\n          const data = response.data;\r\n          if (!data.success) {\r\n              throw new Error('Failed to fetch learner courses');\r\n          }\r\n          \r\n          console.log({data})\r\n          setLearnerCourses(data.data.filter(course => course.course_purchase_status));\r\n      } catch (error) {\r\n          console.error('Error fetching learner courses:', error.message);\r\n      }\r\n  };\r\n\r\n    return (\r\n        <div>\r\n            <div className='learner-navbar'>\r\n            <nav className=\"learner-sidebar\">\r\n                <ul>\r\n                    <li>\r\n                        <Link to={`/learner-profile/${learnerId}`} style={linkStyle}>Your Profile</Link>\r\n                    </li>\r\n                    <li>\r\n                        <Link to={`/learner-courses/${learnerId}`} style={linkStyle}>Your Courses</Link>\r\n                    </li>\r\n                </ul>\r\n                <button onClick={confirmLogout}>Logout</button>\r\n            </nav>\r\n            </div>\r\n            <h1>Learner Profile</h1>\r\n            <div className=\"learner-cards\">\r\n                {learnerCourses.map(course => (\r\n                    <div key={course.course_id} className=\"learner-card\">\r\n                      <img src={course.course_thumbnail} alt={course.course_name} className='thumb' onClick={() => navigate(`/course-inlook/${course.course_id}`)}></img>\r\n                        <h3 className='course-name' onClick={() => navigate(`/course-inlook/${course.course_id}`)}>{course.course_name}</h3>\r\n                        <p onClick={() => navigate(`/educator-preview/${course.educator_id}`)} className='ed-name'>by {course.educator_name}</p>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LearnerCourses;\r\n"],"mappings":"AAAA;AAEA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,GAAG,KAAM,OAAO,CACvB,OAASC,WAAW,CAAEC,IAAI,KAAQ,kBAAkB,CACpD,MAAO,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE9B,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACtB,KAAM,CAAAC,SAAS,CAAIC,cAAc,CAACC,OAAO,CAAC,WAAW,CAAC,CACtD,KAAM,CAACC,cAAc,CAAEC,iBAAiB,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CACxDe,OAAO,CAACC,GAAG,CAAC,CAACN,SAAS,CAAC,CAAC,CACxB,KAAM,CAAAO,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAe,aAAa,CAAGA,CAAA,GAAM,CACxB,KAAM,CAAAC,aAAa,CAAGC,MAAM,CAACC,OAAO,CAAC,mCAAmC,CAAC,CACzE,GAAIF,aAAa,CAAE,CACfR,cAAc,CAACW,KAAK,CAAC,CAAC,CACtBL,QAAQ,CAAC,OAAO,CAAC,CACrB,CACJ,CAAC,CAED,KAAM,CAAAM,SAAS,CAAG,CACdC,cAAc,CAAE,MAAM,CACtBC,KAAK,CAAE,SACX,CAAC,CAEDxB,SAAS,CAAC,IAAM,CACZyB,mBAAmB,CAAC,CAAC,CACzB,CAAC,CAAC,CAEF,KAAM,CAAAA,mBAAmB,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAzB,GAAG,CAAC0B,GAAG,CAAE,wBAAuBlB,SAAU,EAAC,CAAC,CACnE,KAAM,CAAAmB,IAAI,CAAGF,QAAQ,CAACE,IAAI,CAC1B,GAAI,CAACA,IAAI,CAACC,OAAO,CAAE,CACf,KAAM,IAAI,CAAAC,KAAK,CAAC,iCAAiC,CAAC,CACtD,CAEAhB,OAAO,CAACC,GAAG,CAAC,CAACa,IAAI,CAAC,CAAC,CACnBf,iBAAiB,CAACe,IAAI,CAACA,IAAI,CAACG,MAAM,CAACC,MAAM,EAAIA,MAAM,CAACC,sBAAsB,CAAC,CAAC,CAChF,CAAE,MAAOC,KAAK,CAAE,CACZpB,OAAO,CAACoB,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAACC,OAAO,CAAC,CACnE,CACJ,CAAC,CAEC,mBACI5B,KAAA,QAAA6B,QAAA,eACI/B,IAAA,QAAKgC,SAAS,CAAC,gBAAgB,CAAAD,QAAA,cAC/B7B,KAAA,QAAK8B,SAAS,CAAC,iBAAiB,CAAAD,QAAA,eAC5B7B,KAAA,OAAA6B,QAAA,eACI/B,IAAA,OAAA+B,QAAA,cACI/B,IAAA,CAACF,IAAI,EAACmC,EAAE,CAAG,oBAAmB7B,SAAU,EAAE,CAAC8B,KAAK,CAAEjB,SAAU,CAAAc,QAAA,CAAC,cAAY,CAAM,CAAC,CAChF,CAAC,cACL/B,IAAA,OAAA+B,QAAA,cACI/B,IAAA,CAACF,IAAI,EAACmC,EAAE,CAAG,oBAAmB7B,SAAU,EAAE,CAAC8B,KAAK,CAAEjB,SAAU,CAAAc,QAAA,CAAC,cAAY,CAAM,CAAC,CAChF,CAAC,EACL,CAAC,cACL/B,IAAA,WAAQmC,OAAO,CAAEvB,aAAc,CAAAmB,QAAA,CAAC,QAAM,CAAQ,CAAC,EAC9C,CAAC,CACD,CAAC,cACN/B,IAAA,OAAA+B,QAAA,CAAI,iBAAe,CAAI,CAAC,cACxB/B,IAAA,QAAKgC,SAAS,CAAC,eAAe,CAAAD,QAAA,CACzBxB,cAAc,CAAC6B,GAAG,CAACT,MAAM,eACtBzB,KAAA,QAA4B8B,SAAS,CAAC,cAAc,CAAAD,QAAA,eAClD/B,IAAA,QAAKqC,GAAG,CAAEV,MAAM,CAACW,gBAAiB,CAACC,GAAG,CAAEZ,MAAM,CAACa,WAAY,CAACR,SAAS,CAAC,OAAO,CAACG,OAAO,CAAEA,CAAA,GAAMxB,QAAQ,CAAE,kBAAiBgB,MAAM,CAACc,SAAU,EAAC,CAAE,CAAM,CAAC,cACjJzC,IAAA,OAAIgC,SAAS,CAAC,aAAa,CAACG,OAAO,CAAEA,CAAA,GAAMxB,QAAQ,CAAE,kBAAiBgB,MAAM,CAACc,SAAU,EAAC,CAAE,CAAAV,QAAA,CAAEJ,MAAM,CAACa,WAAW,CAAK,CAAC,cACpHtC,KAAA,MAAGiC,OAAO,CAAEA,CAAA,GAAMxB,QAAQ,CAAE,qBAAoBgB,MAAM,CAACe,WAAY,EAAC,CAAE,CAACV,SAAS,CAAC,SAAS,CAAAD,QAAA,EAAC,KAAG,CAACJ,MAAM,CAACgB,aAAa,EAAI,CAAC,GAHlHhB,MAAM,CAACc,SAIZ,CACR,CAAC,CACD,CAAC,EACL,CAAC,CAEd,CAEA,cAAe,CAAAtC,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}