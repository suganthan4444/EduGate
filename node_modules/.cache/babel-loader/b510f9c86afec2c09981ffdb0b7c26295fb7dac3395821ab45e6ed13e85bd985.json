{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'./api';import'./Courses.css';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Courses(){const[coursesByDomain,setCoursesByDomain]=useState({});const[selectedDomain,setSelectedDomain]=useState('');const[searchKeyword,setSearchKeyword]=useState('');const navigate=useNavigate();useEffect(()=>{fetchReleasedCourses();},[]);async function fetchReleasedCourses(){try{const response=await api.get('/get-released-courses');const{data}=response;if(typeof data==='object'){setCoursesByDomain(data);}else{console.error('Invalid response format:',data);}}catch(error){console.error('Error fetching released courses:',error);}}const handleDropdownChange=event=>{setSelectedDomain(event.target.value);};const handleSearchChange=event=>{setSearchKeyword(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{className:\"courses\",children:[/*#__PURE__*/_jsxs(\"header\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Explore and pick courses of your Interests\"}),/*#__PURE__*/_jsxs(\"select\",{value:selectedDomain,onChange:handleDropdownChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Domain\"}),/*#__PURE__*/_jsx(\"option\",{value:\"IT & Software\",children:\"IT & Software\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Electronics\",children:\"Electronics\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Mechanics\",children:\"Mechanics\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Aeronautics\",children:\"Aeronautics\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Music\",children:\"Music\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Drawing & Design\",children:\"Drawing & Design\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Management\",children:\"Management\"})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search courses...\",value:searchKeyword,onChange:handleSearchChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"course-categories\",children:Object.entries(coursesByDomain).map(_ref=>{let[domain,courses]=_ref;return(!selectedDomain||domain===selectedDomain)&&/*#__PURE__*/_jsxs(\"div\",{children:[domain&&/*#__PURE__*/_jsx(\"h2\",{className:\"domain\",children:domain}),/*#__PURE__*/_jsxs(\"div\",{className:\"course-cards\",children:[courses.filter(course=>course.course_name&&course.course_name.toLowerCase().includes(searchKeyword.toLowerCase())).map(course=>/*#__PURE__*/_jsxs(\"div\",{className:\"user-course-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:course.course_thumbnail_url,alt:course.course_name,onClick:()=>navigate(`/course-preview/${course.course_id}`)}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-course-details\",children:[/*#__PURE__*/_jsx(\"h3\",{onClick:()=>navigate(`/course-preview/${course.course_id}`),children:course.course_name}),/*#__PURE__*/_jsxs(\"p\",{className:\"educator\",onClick:()=>navigate(`/educator-preview/${course.educator_id}`),children:[\"by \",/*#__PURE__*/_jsx(\"span\",{children:course.educator_name})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"price\",children:[\"Price: \",course.course_price]})]})]},course.course_id)),courses.filter(course=>course.course_name&&course.course_name.toLowerCase().includes(searchKeyword.toLowerCase())).length===0&&/*#__PURE__*/_jsx(\"p\",{children:\"No courses available with this name.\"})]})]},domain);})})]});}export default Courses;","map":{"version":3,"names":["React","useState","useEffect","api","useNavigate","jsx","_jsx","jsxs","_jsxs","Courses","coursesByDomain","setCoursesByDomain","selectedDomain","setSelectedDomain","searchKeyword","setSearchKeyword","navigate","fetchReleasedCourses","response","get","data","console","error","handleDropdownChange","event","target","value","handleSearchChange","className","children","onChange","type","placeholder","Object","entries","map","_ref","domain","courses","filter","course","course_name","toLowerCase","includes","src","course_thumbnail_url","alt","onClick","course_id","educator_id","educator_name","course_price","length"],"sources":["D:/Sugu/Study Zone/Coding/Code/Projects/Coapps/Final Project/Project EduGate/react-project/src/Courses.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from './api';\r\nimport './Courses.css';\r\nimport { useNavigate } from 'react-router-dom'; \r\n\r\nfunction Courses() {\r\n  const [coursesByDomain, setCoursesByDomain] = useState({});\r\n  const [selectedDomain, setSelectedDomain] = useState('');\r\n  const [searchKeyword, setSearchKeyword] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n\r\n  useEffect(() => {\r\n    fetchReleasedCourses();\r\n  }, []);\r\n\r\n  async function fetchReleasedCourses() {\r\n    try {\r\n      const response = await api.get('/get-released-courses');\r\n      const { data } = response;\r\n  \r\n      if (typeof data === 'object') {\r\n        setCoursesByDomain(data);\r\n      } else {\r\n        console.error('Invalid response format:', data);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching released courses:', error);\r\n    }\r\n  }\r\n  \r\n\r\n  const handleDropdownChange = (event) => {\r\n    setSelectedDomain(event.target.value);\r\n  };\r\n\r\n\r\n  const handleSearchChange = (event) => {\r\n    setSearchKeyword(event.target.value);\r\n  };\r\n\r\n  return (\r\n    <div className=\"courses\">\r\n      <header>\r\n        <h1>Explore and pick courses of your Interests</h1>\r\n        <select value={selectedDomain} onChange={handleDropdownChange}>\r\n          <option value=\"\">Select Domain</option>\r\n          <option value=\"IT & Software\">IT & Software</option>\r\n          <option value=\"Electronics\">Electronics</option>\r\n          <option value=\"Mechanics\">Mechanics</option>\r\n          <option value=\"Aeronautics\">Aeronautics</option>\r\n          <option value=\"Music\">Music</option>\r\n          <option value=\"Drawing & Design\">Drawing & Design</option>\r\n          <option value=\"Management\">Management</option>\r\n        </select>\r\n        <input type=\"text\" placeholder=\"Search courses...\" value={searchKeyword} onChange={handleSearchChange} />\r\n      </header>\r\n      <div className=\"course-categories\">\r\n  {Object.entries(coursesByDomain).map(([domain, courses]) => (\r\n    (!selectedDomain || domain === selectedDomain) && (\r\n      <div key={domain}>\r\n        {domain && <h2 className='domain'>{domain}</h2>}\r\n        <div className=\"course-cards\">\r\n          {courses\r\n            .filter(\r\n              course =>\r\n                course.course_name &&\r\n                course.course_name.toLowerCase().includes(searchKeyword.toLowerCase())\r\n            )\r\n            .map(course => (\r\n              <div className=\"user-course-card\" key={course.course_id} >\r\n                <img src={course.course_thumbnail_url} alt={course.course_name} onClick={() => navigate(`/course-preview/${course.course_id}`)}/>\r\n                <div className=\"user-course-details\">\r\n                  <h3 onClick={() => navigate(`/course-preview/${course.course_id}`)}>{course.course_name}</h3>\r\n                  <p className='educator' onClick={() => navigate(`/educator-preview/${course.educator_id}`)}>by <span>{course.educator_name}</span></p>\r\n                  <p className='price' >Price: {course.course_price}</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          {courses\r\n            .filter(\r\n              course =>\r\n                course.course_name &&\r\n                course.course_name.toLowerCase().includes(searchKeyword.toLowerCase())\r\n            ).length === 0 && (\r\n            <p>No courses available with this name.</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    )\r\n  ))}\r\n</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Courses;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}