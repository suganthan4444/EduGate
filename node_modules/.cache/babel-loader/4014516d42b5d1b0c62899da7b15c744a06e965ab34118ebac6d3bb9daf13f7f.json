{"ast":null,"code":"// EducatorProfile.js\nimport React,{useEffect,useState}from'react';import'./EducatorProfile.css';import api from'./api';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function EducatorProfile(){const[educatorData,setEducatorData]=useState({});const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[csrfToken,setCsrfToken]=useState('');const navigate=useNavigate();const educatorId=sessionStorage.getItem('educatorId');useEffect(()=>{async function fetchCsrfToken(){try{const response=await api.get('/get-learner-csrf-token/');setCsrfToken(response.data.csrfToken);}catch(error){console.error('Error fetching CSRF token:',error);}}fetchCsrfToken();},[]);useEffect(()=>{async function fetchProfileData(){try{const educatorId=sessionStorage.getItem('educatorId');const response=await api.get(`/educator-profile/?educatorId=${educatorId}`,{headers:{'X-CSRFToken':csrfToken}});setEducatorData(response.data);}catch(err){setError('Failed to fetch profile data. Please try again.');}finally{setLoading(false);}}fetchProfileData();},[csrfToken]);const linkStyle={textDecoration:'none',color:'inherit'};const confirmLogout=()=>{const userConfirmed=window.confirm('Are you sure you want to log out?');if(userConfirmed){sessionStorage.clear();navigate('/home');}};if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"educator-space\",children:[/*#__PURE__*/_jsxs(\"nav\",{className:\"sidebar\",children:[/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:`/educator-profile/${educatorId}`,style:linkStyle,children:\"Your Profile\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Link,{to:`/educator-courses/${educatorId}`,style:linkStyle,children:\"Your Courses\"})})]}),/*#__PURE__*/_jsx(\"button\",{onClick:confirmLogout,children:\"Logout\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-container\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"My Profile\"}),/*#__PURE__*/_jsx(\"div\",{className:\"educator-picture\",children:/*#__PURE__*/_jsx(\"img\",{src:educatorData.profile_picture,alt:educatorData.name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:educatorData.name,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Date of Birth:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:educatorData.dob,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:educatorData.email,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Mobile Number:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:educatorData.mobile_no,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Highest Qualification:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:educatorData.highest_qualification,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:educatorData.username,readOnly:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile-field\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Bio:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:educatorData.bio,readOnly:true})]})]})]});}export default EducatorProfile;","map":{"version":3,"names":["React","useEffect","useState","api","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","EducatorProfile","educatorData","setEducatorData","loading","setLoading","error","setError","csrfToken","setCsrfToken","navigate","educatorId","sessionStorage","getItem","fetchCsrfToken","response","get","data","console","fetchProfileData","headers","err","linkStyle","textDecoration","color","confirmLogout","userConfirmed","window","confirm","clear","children","className","to","style","onClick","src","profile_picture","alt","name","type","value","readOnly","dob","email","mobile_no","highest_qualification","username","bio"],"sources":["D:/Sugu/Study Zone/Coding/Code/Projects/Coapps/Final Project/Project EduGate/react-project/src/EducatorProfile.js"],"sourcesContent":["// EducatorProfile.js\r\n\r\nimport React, { useEffect, useState } from 'react';\r\nimport './EducatorProfile.css';\r\nimport api from './api';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\n\r\nfunction EducatorProfile() {\r\n    const [educatorData, setEducatorData] = useState({});\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState(null);\r\n    const [csrfToken, setCsrfToken] = useState('');\r\n    const navigate = useNavigate();\r\n    const educatorId = sessionStorage.getItem('educatorId');\r\n\r\n    useEffect(() => {\r\n        async function fetchCsrfToken() {\r\n            try {\r\n                const response = await api.get('/get-learner-csrf-token/');\r\n                setCsrfToken(response.data.csrfToken);\r\n            } catch (error) {\r\n                console.error('Error fetching CSRF token:', error);\r\n            }\r\n        }\r\n\r\n        fetchCsrfToken();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        async function fetchProfileData() {\r\n            try {\r\n                const educatorId = sessionStorage.getItem('educatorId');\r\n                const response = await api.get(`/educator-profile/?educatorId=${educatorId}`,{headers: {\r\n                    'X-CSRFToken': csrfToken,\r\n                }});\r\n                setEducatorData(response.data);\r\n            } catch (err) {\r\n                setError('Failed to fetch profile data. Please try again.');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        }\r\n\r\n        fetchProfileData();\r\n    }, [csrfToken]);\r\n\r\n    const linkStyle = {\r\n        textDecoration: 'none',\r\n        color: 'inherit',\r\n    };\r\n    \r\n    const confirmLogout = () => {\r\n        const userConfirmed = window.confirm('Are you sure you want to log out?');\r\n        if (userConfirmed) {\r\n            sessionStorage.clear();\r\n            navigate('/home');\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return <div>Loading...</div>;\r\n    }\r\n\r\n    if (error) {\r\n        return <div>{error}</div>;\r\n    }\r\n\r\n    return (\r\n\r\n    <div className=\"educator-space\">\r\n        <nav className=\"sidebar\">\r\n            <ul>\r\n                <li>\r\n                    <Link to={`/educator-profile/${educatorId}`} style={linkStyle}>Your Profile</Link>\r\n                </li>\r\n                <li>\r\n                    <Link to={`/educator-courses/${educatorId}`} style={linkStyle}>Your Courses</Link>\r\n                </li>\r\n            </ul>\r\n            <button onClick={confirmLogout}>Logout</button>\r\n        </nav>\r\n        <div className=\"profile-container\">\r\n            <h2>My Profile</h2>\r\n            <div className='educator-picture'><img src={educatorData.profile_picture} alt={educatorData.name}></img></div>\r\n            <div className=\"profile-field\">\r\n                <label>Name:</label>\r\n                <input type=\"text\" value={educatorData.name} readOnly />\r\n            </div>\r\n            <div className=\"profile-field\">\r\n                <label>Date of Birth:</label>\r\n                <input type=\"text\" value={educatorData.dob} readOnly />\r\n            </div>\r\n            <div className=\"profile-field\">\r\n                <label>Email:</label>\r\n                <input type=\"text\" value={educatorData.email} readOnly />\r\n            </div>\r\n            <div className=\"profile-field\">\r\n                <label>Mobile Number:</label>\r\n                <input type=\"text\" value={educatorData.mobile_no} readOnly />\r\n            </div>\r\n            <div className=\"profile-field\">\r\n                <label>Highest Qualification:</label>\r\n                <input type=\"text\" value={educatorData.highest_qualification} readOnly />\r\n            </div>\r\n            <div className=\"profile-field\">\r\n                <label>Username:</label>\r\n                <input type=\"text\" value={educatorData.username} readOnly />\r\n            </div>\r\n            <div className=\"profile-field\">\r\n                <label>Bio:</label>\r\n                <input type=\"text\" value={educatorData.bio} readOnly />\r\n            </div>\r\n        </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EducatorProfile;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}